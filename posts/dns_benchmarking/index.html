<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>DNS Benchmarking | taihen.org / 418 ... engineering in progress</title>
<meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="I&rsquo;m happy to announce a simple yet effective command-line DNS benchmarking tool I&rsquo;ve recently developed: dns-benchmark. This project was directly inspired by the outstanding work of Steve Gibson and his well-known DNS Benchmark utility. Steve’s meticulous attention to detail in benchmarking DNS performance motivated me to create something similar, but tailored specifically for the command line.
This CLI tool, written in Go, allows individual users to quickly test and compare various recursive DNS servers, checking key metrics such as latency, reliability, DNSSEC validation, and even response correctness—like detecting servers that hijack NXDOMAIN responses."><meta name=generator content="Hugo 0.147.2"><meta name=robots content="index, follow"><link rel=stylesheet href=/ananke/css/main.min.d05fb5f317fcf33b3a52936399bdf6f47dc776516e1692e412ec7d76f4a5faa2.css><link rel=canonical href=https://taihen.org/posts/dns_benchmarking/><meta property="og:url" content="https://taihen.org/posts/dns_benchmarking/"><meta property="og:site_name" content="taihen.org / 418 ... engineering in progress"><meta property="og:title" content="DNS Benchmarking"><meta property="og:description" content="I’m happy to announce a simple yet effective command-line DNS benchmarking tool I’ve recently developed: dns-benchmark. This project was directly inspired by the outstanding work of Steve Gibson and his well-known DNS Benchmark utility. Steve’s meticulous attention to detail in benchmarking DNS performance motivated me to create something similar, but tailored specifically for the command line.
This CLI tool, written in Go, allows individual users to quickly test and compare various recursive DNS servers, checking key metrics such as latency, reliability, DNSSEC validation, and even response correctness—like detecting servers that hijack NXDOMAIN responses."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-05-07T00:00:00+00:00"><meta property="article:modified_time" content="2025-05-07T00:00:00+00:00"><meta property="article:tag" content="DNS"><meta property="article:tag" content="Benchmarking"><meta property="article:tag" content="CLI"><meta property="article:tag" content="Go"><meta property="article:tag" content="DNSSEC"><meta itemprop=name content="DNS Benchmarking"><meta itemprop=description content="I’m happy to announce a simple yet effective command-line DNS benchmarking tool I’ve recently developed: dns-benchmark. This project was directly inspired by the outstanding work of Steve Gibson and his well-known DNS Benchmark utility. Steve’s meticulous attention to detail in benchmarking DNS performance motivated me to create something similar, but tailored specifically for the command line.
This CLI tool, written in Go, allows individual users to quickly test and compare various recursive DNS servers, checking key metrics such as latency, reliability, DNSSEC validation, and even response correctness—like detecting servers that hijack NXDOMAIN responses."><meta itemprop=datePublished content="2025-05-07T00:00:00+00:00"><meta itemprop=dateModified content="2025-05-07T00:00:00+00:00"><meta itemprop=wordCount content="636"><meta itemprop=keywords content="DNS,Benchmarking,CLI,Go,DNSSEC"><meta name=twitter:card content="summary"><meta name=twitter:title content="DNS Benchmarking"><meta name=twitter:description content="I’m happy to announce a simple yet effective command-line DNS benchmarking tool I’ve recently developed: dns-benchmark. This project was directly inspired by the outstanding work of Steve Gibson and his well-known DNS Benchmark utility. Steve’s meticulous attention to detail in benchmarking DNS performance motivated me to create something similar, but tailored specifically for the command line.
This CLI tool, written in Go, allows individual users to quickly test and compare various recursive DNS servers, checking key metrics such as latency, reliability, DNSSEC validation, and even response correctness—like detecting servers that hijack NXDOMAIN responses."><script async src="https://www.googletagmanager.com/gtag/js?id=G-36HC46PNZV"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-36HC46PNZV")}</script></head><body class="ma0 avenir bg-near-white production"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">taihen.org / 418 ... engineering in progress</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/about/ title="About page">About</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/contact/ title="Contact page">Contact</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/posts/ title="Posts page">Posts</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/trainings/ title="Trainings page">Trainings</a></li></ul><div class=ananke-socials></div></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked ttu">Posts</aside><div id=sharing class="mt3 ananke-socials"></div><h1 class="f1 athelas mt3 mb1">DNS Benchmarking</h1><time class="f6 mv4 dib tracked" datetime=2025-05-07T00:00:00Z>May 7, 2025</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>I&rsquo;m happy to announce a simple yet effective command-line DNS benchmarking tool I&rsquo;ve recently developed: <strong>dns-benchmark</strong>. This project was directly inspired by the outstanding work of <a href=https://www.grc.com/dns/benchmark.htm>Steve Gibson</a> and his well-known DNS Benchmark utility. Steve’s meticulous attention to detail in benchmarking DNS performance motivated me to create something similar, but tailored specifically for the command line.</p><p>This CLI tool, written in Go, allows individual users to quickly test and compare various recursive DNS servers, checking key metrics such as latency, reliability, DNSSEC validation, and even response correctness—like detecting servers that hijack NXDOMAIN responses.</p><h3 id=what-is-a-recursive-dns-server>What is a Recursive DNS Server?</h3><p>A recursive DNS server acts as an intermediary between your device and authoritative DNS servers on the internet. When you request a domain name (like <a href=https://www.example.com>www.example.com</a>), a recursive DNS server queries multiple authoritative servers on your behalf to find the corresponding IP address.</p><p>Typically, your Internet Service Provider (ISP) provides the recursive DNS server you use by default. However, ISPs generally have limited incentives to optimize these DNS servers for high performance or security. For ISPs, DNS servers often represent a cost center rather than a strategic asset. Additionally, ISP-operated DNS servers are frequently subject to regulatory requirements (such as blocking certain domains that aren&rsquo;t allowed in your country) or financial considerations, like redirecting queries for non-existent domains (NXDOMAIN hijacking) to monetized search or advertising pages.</p><p>While changing your recursive DNS server is typically straightforward, assessing whether a new DNS server is actually the right choice for you can be challenging, especially considering your geographic location within the network. For example, if you&rsquo;re located in Europe, choosing a DNS server based in the US might result in higher latency due to increased packet round-trip times. Tools like <strong>dns-benchmark</strong> help simplify this evaluation by providing clear performance metrics tailored specifically to your network environment.</p><p>A typical flow of DNS queries to get an IP address involves:</p><ol><li>Your device asks your configured recursive DNS server, &ldquo;What&rsquo;s the IP for <a href=https://www.example.com>www.example.com</a> ?&rdquo;</li><li>The recursive DNS server checks its cache. If not cached, it asks a root DNS server, &ldquo;Who knows about .com?&rdquo;</li><li>The root server replies with the address of a .com authoritative server.</li><li>The recursive DNS server queries the .com server, &ldquo;Who knows about example.com?&rdquo;</li><li>The .com server replies with the address of the authoritative DNS server for example.com.</li><li>Finally, the recursive DNS server queries the authoritative server for example.com, &ldquo;What&rsquo;s the IP for <a href=https://www.example.com>www.example.com</a> ?&rdquo;</li><li>The authoritative DNS server replies with the IP address, which the recursive DNS server returns to your device.</li></ol><p>Your device can then connect directly to the provided IP address to access the desired content.</p><h3 id=technical-details-and-development-trade-offs>Technical Details and Development Trade-offs</h3><p>In developing <strong>dns-benchmark</strong>, several design and ethical considerations were carefully balanced:</p><ul><li><strong>Concurrency and Rate Limiting:</strong> While Go offers powerful concurrency features, I intentionally limited parallel queries and included rate limiting to avoid inadvertently overwhelming DNS servers.</li><li><strong>Cached vs. Uncached Queries:</strong> To provide meaningful results without excessive traffic, the tool performs a balanced mix of cached (popular domains) and uncached (randomized) queries. This approach yields realistic latency measurements without unnecessarily taxing DNS infrastructure.</li><li><strong>Reliability and Correctness Checks:</strong> Additional checks were included for reliability (detecting dropped responses) and correctness (identifying NXDOMAIN hijacking and DNSSEC validation), enhancing the depth of insights provided.</li></ul><p>I&rsquo;m not a software engineer by profession, but driven by curiosity and the goal of enhancing my own experience, I&rsquo;ve put significant care into making this tool both user-friendly and respectful of public DNS infrastructure. Following Steve Gibson’s principles of ethical testing, dns-benchmark ensures it doesn&rsquo;t unintentionally stress public resolvers.</p><p>Whether you&rsquo;re a power user looking for speed, someone interested in DNS security features, or simply curious about DNS performance, <strong>dns-benchmark</strong> provides a clear, concise, and effective way to evaluate your options.</p><p>Feel free to check it out, contribute, or give feedback:</p><p><a href=https://github.com/taihen/dns-benchmark>https://github.com/taihen/dns-benchmark</a></p><p>Happy benchmarking!</p><ul class=pa0><li class="list di"><a href=/tags/dns/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">DNS</a></li><li class="list di"><a href=/tags/benchmarking/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Benchmarking</a></li><li class="list di"><a href=/tags/cli/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">CLI</a></li><li class="list di"><a href=/tags/go/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Go</a></li><li class="list di"><a href=/tags/dnssec/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">DNSSEC</a></li></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://taihen.org/>&copy; taihen.org / 418 ... engineering in progress 2025</a><div><div class=ananke-socials></div></div></div></footer></body></html>